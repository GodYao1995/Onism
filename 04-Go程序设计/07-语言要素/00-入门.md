[TOC]

### 语言要素

> 1. [官方文档](https://golang.google.cn/doc/)
> 2. [快速入门](https://tour.golang.org/list)

**背景**

>   谷歌公司：Go 语言起源 2007 年,并于 2009 年正式对外发布

**创始人**

1.  Rob Pike：Unix的早期开发者、UTF-8 创始人
2.  Ken Thompson：Unix的创始人、C语言创始人、1983年获图灵奖
3.  Robert Griesemer：Google V8 JS Engine、Hot Spot开发者

#### 特点

1. 语法糖少、代码规范
2. 编译高效、跨平台
3. 并发编程、垃圾回收
4. 非侵入接口、组合

5. 关键字

> Go语言内置25个关键字

|   package    |   import    |      var       |     const     |    func    |
| :----------: | :---------: | :------------: | :-----------: | :--------: |
|  **return**  |  **defer**  |    **type**    |  **struct**   |   **if**   |
|   **else**   |   **for**   |   **switch**   |   **case**    | **break**  |
| **continue** | **default** | **fallthouth** |   **goto**    |   **go**   |
|   **chan**   |   **map**   |   **range**    | **interface** | **select** |

6. 保留字

|    布尔值    |      true      |     false     |    bool    |            |            |
| :----------: | :------------: | :-----------: | :--------: | :--------: | :--------: |
|   **整型**   |    **int**     |   **int8**    | **int16**  | **int32**  | **int64**  |
|              |    **uint**    |   **uint8**   | **uint16** | **uint32** | **uint64** |
|  **浮点型**  |  **float32**   |  **float64**  |            |            |            |
|   **复数**   | **complex128** | **complex64** |  **real**  |  **imag**  |            |
|   **别名**   |    **byte**    |   **rune**    |            |            |            |
| **内置函数** |    **make**    |    **new**    | **delete** | **close**  |  **len**   |
|              |    **cap**     |  **append**   |  **copy**  |            |            |
|              |   **panic**    |  **recover**  |            |            |            |
|   **其他**   |    **nil**     |   **iota**    |            |            |            |

#### 类型

> Go是一门强类型、静态编译性语言

1. 数值类型
2. 布尔类型
3. 字符串类型
4. 数组类型
5. 切片类型
6. 映射类型
7. 通道类型
8. 接口类型
9. 自定义类型

#### 运行

> go run main.go || go build -o main.go

~~~go
package main 
func main() {
    fmt.Println("Hello World")
}
~~~

#### 变量

> 后置类型、并且可以类型推导

~~~go
var name = "GodYao"
~~~

#### 常量

~~~go
const PI = 3.14
~~~

#### 内存

~~~go
//-------------------------------------返回类型的零值指针，内存清零而不会初始化---------------------
new(T) => *T
//-------------------------------------复合类型，安装类型初始化内存后返回了类型----------------------
// Slice、Map、Chan 
make(T, args) => T // 初始化内部数据结构，并且准备好初始的值
~~~

#### 数组

~~~go
var arr [3]int
~~~

#### 切片

~~~go
var sli []int
var sli = make([]int, len， cap)
~~~

#### Map

> k-v关系映射

~~~go
var m map[string]string
~~~

#### 指针

~~~go
var name = "GodYao"
var p = &name
*p = "Jack"
~~~

#### 函数

> 支持多返回值、支持不定参数

~~~go
func Hello(name string) string {
    return "Hello" + name
}
func Sum(nums ...int) int {
    sum := 0
    for _, v := range nums {
        sum += v
    }
    return sum
}
~~~

#### 控制

> 严格花括号模式

判断

~~~go
if [!] condition [&&][||] conditions {
    
} else if condition {
    
} else {
    
}
// --------------------------------------支持简单变量声明-------------------------------------
if err := Foo(); err != nil {
    // code
}
~~~

循环

~~~go
for i := 0; i < 10; i++ {
  	// code  
}
var i = 0
for ; i < 10; i++ {
   // code
}
sum := 1
for ; sum < 1000; {
    sum += sum
}

sum := 1
for sum < 1000 {
    sum += sum
}

for {
    // 死循环
}

//-----------------------------------------遍历序列-------------------------------------------
for k, v := range collections {
    // code
}
//-------------------------------------- 获取通道数据------------------------------------------
for c := range channle (
	// code
)
~~~

Switch

> 无break、支持简单变量声明、case支持表达式

~~~go
switch pattern {
    case matching:
    	// code
    case matching:
    	// code
    default:
    	// code
}
switch {
    case conditon:
    	// code
    case conditon:
    	// code
    default:
    	// code
}
~~~

#### 结构

~~~go
type User struct {
    UserName string `json:"user_name" form:"user_name"`
    Password string `json:"password" form:"password"`
}
~~~

#### 方法

> 绑定结构的方法

~~~go
func (u *User) GetUserName() string {
    return u.UserName
}
~~~

#### 接口

~~~go
type IUserFace interface {
    GetUserName() string
}
~~~

#### 错误

~~~go
var err = errors.New("error: name is null")
---------------------------------------------------------------------------------------------
if err := Foo(); err != nil {
    // 错误处理
}

// 程序终止
panic("panic")
// 仅在被defer的函数内部才是有用的
defer func() {
    if err := recover(); err != nil {
        fmt.Println(err.Error())
    }  
}()
~~~

#### 测试

~~~go
package main

import "testing"

func TestHello(t *testing.T) {
	
}
~~~

#### 并发

goroutine

~~~go
go func() {
    
}()
~~~

channle

~~~go
ch := make(chan int)    // 无缓冲
ch := make(chan int, 1) // 有缓冲
~~~

select

> 监听chan数据流动、单次、随机

~~~go
select {
    case <-ch:
    // code
    default:
    // code
}
~~~