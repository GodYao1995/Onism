### XA: 分布式事务

在需要分库、分表的背景下, 需要分布式事务来保证不同数据库的一致性. 事务要么成功, 要么全部失败. 

 XA分布式事务, 通常由一个应用程序AP、一个事务管理器TM、多个资源管理器RM组成. 

#### 概念

资源管理器: Resource Manager 管理系统资源, 具备事务提交、回滚. 一般由数据库实现. 

事务管理器: Transaction Manager 事务管理器与每个资源管理器进行通信, 协调并完成事务的处理. 通常就是客户端. 

XA协议: 定义事务管理器 与 资源管理器之间的接口. 

2PC: 两阶段协议 Prepare阶段、Commit阶段

内部XA: Binlog 与 Redo Log 

外部XA: 

查看是否支持XA

~~~mysql
show engine
~~~







